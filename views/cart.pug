extends base

block css 
    meta(charset='UTF-8')
    meta(http-equiv='X-UA-Compatible' content='IE=edge')
    meta(name='viewport' content='width=device-width, initial-scale=1.0')
    //- meta(script-src='self' https://js.stripe.com/v3/ 'unsafe-inline''unsafe-eval';)
    title Cart
    link(rel='stylesheet' href='./css/header.css')
    link(rel='preconnect' href='https://fonts.googleapis.com')
    link(rel='preconnect' href='https://fonts.gstatic.com' crossorigin='')
    link(href='https://fonts.googleapis.com/css2?family=Ubuntu:wght@300&display=swap' rel='stylesheet')
    link(rel='stylesheet' href='./css/media_header.css')
    link(rel='stylesheet' href='./css/footer_media.css')
    link(rel='stylesheet' href='./css/footer.css')
    link(rel='stylesheet' href='./css/cart.css')
    link(rel='stylesheet' href='./css/cart_media.css')
    link(rel='shortcut icon' href='./img/favicon.png' type='image/x-icon')
    script(src='https://js.stripe.com/v3/')

block content 
    .error
        .success
            .error-left
                img(src='/img/error.png' alt='error' height='60rem')
            .error-right
                h4 There was a Problem
                p Wrong password
    .loader
         img(src='/img/loader1.png' alt='loader' height='80rem')
    
    -if(cart!=undefined){
        .shooping-cart
            .headings
                h1 Shopping Cart
                p Price
            hr
            .items-cart
                each element of cart.product    
                    .item
                        .left(data-id=`${element.item._id}`)
                            img(src=`/img/product/${element.item.image}` alt='items' width='150rem' class="img" data-id=`${element.item._id}`)
                        .right
                            .title-price
                                a#title(href=`/item/${element.item._id}`)= element.item.name
                                span#price &#x20B9;#{element.price}
                            p#stock In stock
                            -if(element.item.price>1000)
                                p
                                    small  Eligible for Free shipping
                            .row
                                select#qty(name='qty' data-id=`${element._id}`)
                                    option(value= element.qty) Qty: #{element.qty}

                                    option(value=1) Qty: 1
                                    option(value=2) Qty: 2
                                    option(value=3) Qty: 3
                                    option(value=4) Qty: 4
                                    option(value=5) Qty: 5
                                    option(value=6) Qty: 6
                                    option(value=7) Qty: 7
                                    option(value=8) Qty: 8
                                    option(value=9) Qty: 9
                                    option(value=10) Qty: 10
                                p#space |
                                button.delete(data-id=`${element._id}`) Delete
                    hr
        .total
            p
                | Subtotal (4 items): &#x20B9; 
                b #{TotalPrice}
            button.buy(data-id=`${cart._id}`) Proceed to Buy
    -}
    -else
        .addError
                .one
                    .img
                        img(src='/img/cart.png' alt='' height='100vw')
                    .eror1
                        h1 Your Basket is Empty :(   
block end 
    script(src="/js/bundle6.js") 
    